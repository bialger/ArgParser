# Архитектура продукта

В этом документе описывается архитектура продукта - парсера аргументов командной 
строки, разработанная на основании [требований](requirements.md).

## Системная архитектура

* Продукт не имеет системной архитектуры, поскольку его предполагается использовать 
  в качестве подсистемы, встраиваемой в иные продукты.

## Архитектура подсистем

* Исходя из вышеуказанного предполагаемого использования продукта, весь продукт 
  представляет собой одну подсистему - библиотеку argparer, которая должна обрабатывать
  данные аргументы командной строки.

### Архитектура подсистемы "argparser"

Эта подсистема представляет собой набор классов и связей между ними, которые выполняют
непосредственно парсинг аргументов командной строки, передаваемых в подсистему.

#### Класс ArgParser

Этот класс является основным классом модуля, именно с ним обычно взаимодействует 
пользователь. Он должен представлять следующие возможности: добавление обрабатываемого
аргумента (любого из указанных) с указанным ключом, парсинг набора аргументов командной
строки, а также функция добавления.

#### Класс ArgumentDirector

Этот класс реализует паттерн проектирования "Director": с помощью класса, реализующего 
паттерн "Builder", он должен реализовывать методы, создающие и возвращающие аргументы 
разных типов. Ему должны наследовать соответствующие классы с реализацией для каждого
вида аргумента.

#### Класс ArgumentBuilder

Этот класс реализует паттерн проектирования "Builder": объекты этого класса должна 
возвращать функция добавления аргумента из ArgParser, к нему должен обращаться
пользователь, добавляя информацию об аргументе. Должен реализовывать функции 
добавления любой информации про аргумент, содержащейся в [тестах](./../../../tests/argparser_test.cpp) 
и функцию построения.  Ему должны наследовать соответствующие классы с реализацией для 
каждого вида аргумента.

#### Класс Argument

Этот класс является родительским классом для всех классов аргументов. Должен иметь
функции возврата статуса парсинга и возврата информации об аргументе. Его наследники
должны иметь функции валидации предположительного значения и функции возврата значения
аргумента. На данный момент планируется LongArgument, BoolArgument, StringArgument и 
ComplexArgument (строка с валидацией и масками начала).

#### Класс HelpComposer

Этот класс будет реализовывать все необходимые методы для генерации строки 
помощи из данного массива Builder-ов аргументов.
